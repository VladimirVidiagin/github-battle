"use strict";(self.webpackChunkgithub_battle=self.webpackChunkgithub_battle||[]).push([[810],{463:(s,e,r)=>{r.d(e,{H:()=>h,V:()=>n});const t="?client_id=".concat("YOUR_CLIENT_ID","&client_secret=").concat("YOUR_SECRET_ID");function n(s){const e=window.encodeURI("https://api.github.com/search/repositories?q=stars:>1+language:".concat(s,"&sort=stars&order=desc&type=Repositories"));return fetch(e).then((s=>s.json())).then((s=>{if(!s.items)throw new Error(s.message);return s.items}))}function c(s,e){return"Not Found"===s?"".concat(e," doesn't exist"):s}function a(s){return fetch("https://api.github.com/users/".concat(s,"/repos").concat(t,"&per_page=100")).then((s=>s.json())).then((e=>{if(e.message)throw new Error(c(e.message,s));return e}))}function l(s,e){return 3*s+function(s){return s.reduce(((s,e)=>{let{stargazers_count:r}=e;return s+r}),0)}(e)}function i(s){return Promise.all([(e=s,fetch("https://api.github.com/users/".concat(e).concat(t)).then((s=>s.json())).then((s=>{if(s.message)throw new Error(c(s.message,e));return s}))),a(s)]).then((s=>{let[e,r]=s;return{profile:e,score:l(e.followers,r)}}));var e}function o(s){return s.sort(((s,e)=>e.score-s.score))}function h(s){return Promise.all([i(s[0]),i(s[1])]).then(o)}},810:(s,e,r)=>{r.r(e),r.d(e,{default:()=>o});var t=r(43),n=r(475),c=r(463),a=r(803),l=r(579);const i=function(s){let{profile:e}=s;const{login:r,avatar_url:t,html_url:n,followers:c,following:a,public_repos:i,location:o,company:h}=e;return(0,l.jsxs)("div",{className:"card bg-light",children:[(0,l.jsxs)("header",{className:"split",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{children:(0,l.jsx)("a",{href:n,children:r})}),(0,l.jsx)("p",{children:o||"unknown"})]}),(0,l.jsx)("img",{className:"avatar large",src:t,alt:"Avatar for ".concat(r)})]}),(0,l.jsxs)("ul",{className:"stack",children:[(0,l.jsxs)("li",{className:"split",children:[(0,l.jsx)("span",{children:"Name:"})," ",(0,l.jsx)("span",{children:r||"n/a"})]}),(0,l.jsxs)("li",{className:"split",children:[(0,l.jsx)("span",{children:"Company:"})," ",(0,l.jsx)("span",{children:h||"n/a"})]}),(0,l.jsxs)("li",{className:"split",children:[(0,l.jsx)("span",{children:"Followers:"})," ",(0,l.jsx)("span",{children:c})]}),(0,l.jsxs)("li",{className:"split",children:[(0,l.jsx)("span",{children:"Following:"})," ",(0,l.jsx)("span",{children:a})]}),(0,l.jsxs)("li",{className:"split",children:[(0,l.jsx)("span",{children:"Repositories:"})," ",(0,l.jsx)("span",{children:i})]})]})]})};const o=(h=function(s){let{router:e}=s;const[r,o]=(0,t.useState)(null),[h,u]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[m,j]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const s=e.searchParams,r=s.get("playerOne"),t=s.get("playerTwo");if(null===r||null===t)return p("Players not found"),void j(!1);(0,c.H)([r,t]).then((s=>{o(s[0]),u(s[1]),p(null),j(!1)})).catch((s=>{let{message:e}=s;p(e),j(!1)}))}),[e.searchParams]),m?(0,l.jsx)(a.A,{text:"Battling"}):d?(0,l.jsx)("p",{className:"text-center error",children:d}):(0,l.jsxs)("main",{className:"animate-in stack main-stack",children:[(0,l.jsxs)("div",{className:"split",children:[(0,l.jsx)("h1",{children:"Results"}),(0,l.jsx)(n.N_,{to:"/battle",className:"btn secondary",children:"Reset"})]}),(0,l.jsxs)("section",{className:"grid",children:[(0,l.jsxs)("article",{className:"results-container",children:[(0,l.jsx)(i,{profile:r.profile}),(0,l.jsxs)("p",{className:"results",children:[(0,l.jsxs)("span",{children:[r.score===h.score?"Tie":"Winner"," ",r.score.toLocaleString()]}),r.score!==h.score&&(0,l.jsx)("img",{width:80,src:"https://ui.dev/images/certificate.svg",alt:"Certificate"})]})]}),(0,l.jsxs)("article",{className:"results-container",children:[(0,l.jsx)(i,{profile:h.profile}),(0,l.jsx)("p",{className:"results",children:(0,l.jsxs)("span",{children:[r.score===h.score?"Tie":"Loser"," ",h.score.toLocaleString()]})})]})]})]})},function(s){const[e]=(0,n.ok)();return(0,l.jsx)(h,{...s,router:{searchParams:e}})});var h}}]);
//# sourceMappingURL=810.11e1b3e0.chunk.js.map